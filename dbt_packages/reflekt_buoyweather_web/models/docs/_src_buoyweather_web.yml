version: 2
sources:
  - name: buoyweather_web
    schema: buoyweather
    database: segment
    description: Schema in Redshift where data for the buoyweather-web Segment
      source is stored.
    tables:
      - name: identifies
        description: A table with identify() calls.
      - name: users
        description: A table with the latest traits for users.
      - name: pages
        description: A table with page() calls.
      - name: tracks
        description: A table with track() event calls.
      - name: account_created
        description: Server side event fired when an account is created
          and sent from our internal system. Used for all 3 platforms (web,
          iOS, android).
      - name: added_card
        description: Server side event fired when a user adds a debit/credit
          card for payment.
      - name: added_product
        description: Web event fired when a user makes a product selection
          (monthly, yearly) from the dropdown in our funnel.
      - name: cancelled_free_trial
        description: Server event fired when a user has their free trialing
          subscription cancelled.
      - name: cancelled_subscription
        description: Server event triggered when an active, non-trialing,
          subscription is scheduled to cancel at the end of an auto-billing
          cycle determined by the billing interval.
      - name: changed_subscription_plan
        description: Server-side event that is triggered by any billing
          platform (Stripe, Google, Apple) when an active subscription billing
          interval is changed to a different billing interval.
      - name: clicked_add_credit_debit_card
        description: Web event fired when a user adds a credit or debit
          card for payment.
      - name: clicked_add_favorite
        description: Web event fired when a user clicks "Add Favorite".
      - name: clicked_cancel_your_subscription
        description: Web event fired when a user clicks to cancel their
          subscription.
      - name: clicked_create_account
        description: Web event fired when a user submits the Create Account
          form.
      - name: clicked_edit_profile
        description: Web event fired when a user clicks to edit their profile.
      - name: clicked_embed
        description: Web event fired when an embed is clicked.
      - name: clicked_link
        description: Web event fired when a user clicks a page link.
      - name: clicked_no_thanks
        description: Web event fired when a user chooses not to provide
          a reason for canceling their subscription.
      - name: clicked_promotion
        description: Web event fired when any utm_* tracking parameters
          are detected in the URL.
      - name: clicked_renew_subscription
        description: Web event fired when a user clicks to renew their subscription.
      - name: clicked_save
        description: Web event fired when a user clicks to save the changes
          made to their account profile.
      - name: clicked_sign_in
        description: Web event fired when a user clicks to sign in.
      - name: clicked_subscribe_cta
        description: Web event fired when a user clicks a Call to Action
          (CTA) encouraging them to subscribe or start a free trial.
      - name: clicked_update_password
        description: Web event fired when a user updates their account password.
      - name: clicked_view_map
        description: Web event fired when a user clicks to view the map.
      - name: completed_checkout_step
        description: Web event fired when a user completes step 2 of the
          subscription funnel.
      - name: completed_order
        description: 'Web event fired when a user completes the final step
          in the subscription funnel (started free trial or direct subscription).

          This client-side event is analogous to the `Order Completed` event
          outlined in the Segment Ecommerce docs (https://segment.com/docs/connections/spec/ecommerce/v2/#order-completed).'
      - name: continued_to_cancel
        description: Web event fired when a user clicks to continue canceling
          their subscription on the cancel funnel landing page.
      - name: converted_free_trial
        description: Server event fired when a user has their free trialing
          subscription converted to a paid autorenewing subscription.
      - name: converted_to_paid
        description: Server side event fired when a user converts from a
          free trial to a paid subscription.
      - name: create_account_form_clicked_sign_in
        description: Web event fired when a user clicks "Sign in" from the
          create account page.
      - name: days_to_convert_from_trial
        description: "Server side event fired 7 days before a users free\
          \ trial is set to convert. Sent with properties:\n  - daysToPremium\n\
          \  - cardType.\nWe'll use the daysToPremium property in the email\
          \ text to the user, this will allow us to change the timing of\
          \ this reminder in Stripe without having to change the email.\
          \ The cardType will be used in customer.io to make sure we only\
          \ send reminders to users with a VISA card. We should only send\
          \ this event if users are converting from a trial to a subscription\
          \ (and have not canceled).\n"
      - name: deleted_account
        description: Server-side event fired when a user's account is deleted.
      - name: dissociated_stripe_customer
        description: Server-side event fired when a Wavetrak User Account
          is unlinked from their respective Stripe Customer object reference.
          Triggered by the Subscription-Service via request from the Wavetrak
          Admin tools only.
      - name: expired_subscription
        description: Server event that is triggered by any billing platform
          (Stripe, Google, Apple) when the active or expiring subscription
          is terminated.
      - name: extended_subscription
        description: Server side event fired when a subscription is extended
          and payment is processed successfully.
      - name: failed_payment_recovered
        description: Server side event fired when a subscription payment
          that previously failed is processed successfully.
      - name: failed_payment
        description: Server side event fired when a subscription payment
          fails.
      - name: generated_gift_card
        description: Server side event when we generate a gift card.
      - name: invalid_forgot_password_reset_code
        description: Server side event fired when the password is reset
          for an account after requested by the user during a failed login.
      - name: kept_account
        description: Web event fired when a user opts to keep their account
          after trying to cancel.
      - name: printed_written_forecast
        description: Fired when a user prints a written forecast.
      - name: purchased_gift_card
        description: Server side event fired when a user purchases a gift
          card.
      - name: redeemed_gift_card
        description: Server side event fired when a user redeems a gift
          card.
      - name: requested_forgot_password_email
        description: Server side event fired when a user requests an email
          to reset their password.
      - name: set_new_password
        description: Server side event sent when a user creates a new password.
      - name: sign_in_form_clicked_create_account
        description: Web event fired when a user clicks "Sign Up" from the
          sign-in page.
      - name: signed_in
        description: Web event fired when a user successfully signs in.
      - name: signed_out
        description: Fired when a user signs out.
      - name: signed_up
        description: Server side event fired when a user signs up for non-trialing
          subscription (direct) from Stripe.
      - name: started_free_trial
        description: Server side event fired when a Stripe trial starts.
      - name: started_subscription
        description: Triggered when an active, non-trialing, subscription
          is created and immediately enters an auto-billing cycle determined
          by the billing interval.
      - name: submitted_cancel_survey
        description: Web event fired when a user submits a cancellation
          survey.
      - name: succeeded_payment
        description: Server side event fired when a subscription payment
          is successful with Stripe.
      - name: toggled_model
        description: Web event fired when a user toggles a model.
      - name: upcoming_subscription_renewal
        description: Server side event fired 7 days before a subscription
          is set to renew. Required by credit card payment processor.
      - name: verified_email
        description: Server side event fired when a user successfully verifies
          their email.
      - name: viewed_checkout_step
        description: Web event fired when a user hits the checkout step
          of the funnel.
      - name: viewed_gift_purchase_step
        description: Web event fired when a user views the Surfline Premium
          gift purchase page.
      - name: viewed_redeem_step
        description: Web event fired when a user views the "Redeem Your
          Gift" page.
