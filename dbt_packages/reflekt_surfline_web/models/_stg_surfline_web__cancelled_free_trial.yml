version: 2
models:
  - name: stg_surfline_web__cancelled_free_trial
    description: Server event fired when a user has their free trialing
      subscription cancelled.
    columns:
      - name: event_id
        description: The unique identifier of the event call.
        tests:
          - not_null
          - unique
      - name: source_schema
        description: The schema of the source table.
      - name: source_table
        description: The source table.
      - name: tracking_plan
        description: Name of the tracking plan the event is defined in.
      - name: library_name
        description: Name of the library that invoked the call.
      - name: library_version
        description: Version of the library that invoked the call.
      - name: sent_at_tstamp
        description: Timestamp when call was sent by client device, OR sent_at
          value manually passed in. This timestamp can be affected by clock
          skew on the client device.
      - name: received_at_tstamp
        description: Timestamp when Segment's servers received the call.
      - name: tstamp
        description: Timestamp when the call was invoked. Calculated by
          Segment to correct client-device clock skew.
      - name: user_id
        description: Unique identifier for the user.
      - name: segment_protocols_source_id
        description: If a protocol violation is detected for this instance
          of the event firing, the ID of the Segment source.
      - name: segment_protocols_omitted_properties
        description: If this instance of the event fired with unplanned
          properties (not in tracking plan), a list of the unplanned properties,
          which are omitted from the event payload and do not reach thea
          data warehouse.
      - name: active
        description: Indicates if the subscription is currently used for
          allowing access to premium entitlements.
      - name: billing_platform
        description: Represents the payment processor for each subscription.
      - name: country
        description: Available for subscription billed through the Google/Android
          billing platform.  Indicates the subscription's country of origin.
      - name: current_period_end
        description: The end of the current trial or billing period.
      - name: current_period_start
        description: The start of the current trial or billing period.
      - name: entitlement
        description: Indicates the premium product access this subscription
          promotes.
      - name: expiration
        description: The date of the subscriptions expiration.  May not
          be the same as currentPeriodEnd in some cases.
      - name: in_trial
        description: Is the subscription actively trialing.
      - name: interval
        description: The subscription billing interval.
      - name: plan_id
        description: The premium product that purchased and billed each
          interval.
      - name: platform
        description: Similar to billingPlatform.  This represents where
          the subscription originated.
      - name: promotion_id
        description: The ID of the associated promotional campaign.
      - name: reason
        description: An sting value represetntative of a cancellation.
      - name: seconds_remaining
        description: Time remaining on a subscription.
      - name: subscription_id
        description: The unique identifier for each subscription that can
          be used for SQL joins for determining lifecycle events.
      - name: trial_eligible
        description: Indicated if the customer/user associated with a subscription
          is eligible for a free trial.
      - name: trial_end_date
        description: The end of the current trial.
      - name: trial_length
        description: The length of the trial in days.
      - name: trial_start_date
        description: The start of the current trial.
