version: 2
models:
  - name: stg_surfline_web__enriched_session
    description: Server side event fired when a Session gets added weather,
      surf, and other details.
    columns:
      - name: event_id
        description: The unique identifier of the event call.
        tests:
          - not_null
          - unique
      - name: source_schema
        description: The schema of the source table.
      - name: source_table
        description: The source table.
      - name: tracking_plan
        description: Name of the tracking plan the event is defined in.
      - name: library_name
        description: Name of the library that invoked the call.
      - name: library_version
        description: Version of the library that invoked the call.
      - name: sent_at_tstamp
        description: Timestamp when call was sent by client device, OR sent_at
          value manually passed in. This timestamp can be affected by clock
          skew on the client device.
      - name: received_at_tstamp
        description: Timestamp when Segment's servers received the call.
      - name: tstamp
        description: Timestamp when the call was invoked. Calculated by
          Segment to correct client-device clock skew.
      - name: anonymous_id
        description: A pseudo-unique substitute for a user ID, for cases
          when absolute unique identifier not available (e.g. user not signed
          in).
      - name: user_id
        description: Unique identifier for the user.
      - name: segment_protocols_source_id
        description: If a protocol violation is detected for this instance
          of the event firing, the ID of the Segment source.
      - name: segment_protocols_violations
        description: If a protocol violation is detected for this instance
          of the event firing, a list of the protocol violations.
      - name: segment_protocols_omitted_properties
        description: If this instance of the event fired with unplanned
          properties (not in tracking plan), a list of the unplanned properties,
          which are omitted from the event payload and do not reach thea
          data warehouse.
      - name: client
        description: The client used to record the session.
      - name: condition
        description: The condition of the session.
      - name: current_tide_height
        description: The current tide height.
      - name: max_distance
        description: The maximum wave distance in the session.
      - name: max_speed
        description: The maximum speed of the session.
      - name: next_tide_height
        description: The next tide height.
      - name: session_id
        description: The Surfline Session ID.
      - name: session_length
        description: Length of session in milliseconds.
      - name: spot_id
        description: The spot ID.
      - name: spot_name
        description: The spot name.
      - name: spot_relive_rating
        description: The session relive rating.
      - name: start_lat_lon
        description: The start lat/lon of the session.
      - name: start_timestamp
        description: The start timestamp of the session.
      - name: stop_timestamp
        description: The stop timestamp of the session.
      - name: wave_count
        description: The number of waves in the session.
      - name: wave_height_max
        description: The maximum wave height during the session.
      - name: wave_height_min
        description: The minimum wave height during the session.
      - name: wind_direction
        description: The wind direction during the session.
      - name: wind_speed
        description: The wind speed during the session.
